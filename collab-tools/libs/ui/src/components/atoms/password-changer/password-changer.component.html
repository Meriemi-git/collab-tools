<form [formGroup]="passwordForm" class="flex flex-column">
  <div class="flex-column">
    <div class="mb-2">
      <label for="current-password">
        {{ 'password-changer.current_password' | translate }}
      </label>
    </div>
    <div class="mb-2 flex flex-column">
      <p-password
        id="current-password"
        [placeholder]="
          'password-changer.current_password_placeholder' | translate
        "
        formControlName="currentPassword"
        [toggleMask]="true"
        [feedback]="false"
      ></p-password>
      <div class="p-invalid-container">
        <small
          *ngIf="isSubmitted && formControls.currentPassword.errors?.required"
          class="p-invalid"
        >
          {{ 'password-changer.password_required' | translate }}
        </small>
        <small
          *ngIf="isSubmitted && formControls.currentPassword.errors?.pattern"
          class="p-invalid"
        >
          {{ 'password-changer.password_not_strong' | translate }}
        </small>
      </div>
    </div>
  </div>
  <div class="flex flex-column">
    <div class="mb-2">
      <label for="new-password">
        {{ 'password-changer.new_password' | translate }}
      </label>
    </div>
    <div class="mb-2 flex flex-column">
      <p-password
        id="new-password"
        [placeholder]="'password-changer.new_password_placeholder' | translate"
        formControlName="newPassword"
        [toggleMask]="true"
      >
        <ng-template pTemplate="header">
          <p class="mt-2">
            {{ 'password-changer.new_password_suggestions' | translate }}
          </p>
          <ul class="pl-2 ml-2 mt-0 suggestions" style="line-height: 1.5">
            <li>
              <small>{{
                'password-changer.new_password_suggestions_uppercase'
                  | translate
              }}</small>
            </li>
            <li>
              <small>{{
                'password-changer.new_password_suggestions_numeric' | translate
              }}</small>
            </li>
            <li>
              <small>{{
                'password-changer.new_password_suggestions_special' | translate
              }}</small>
            </li>
            <li>
              <small>{{
                'password-changer.new_password_suggestions_length' | translate
              }}</small>
            </li>
          </ul>
        </ng-template>
      </p-password>
      <div class="p-invalid-container">
        <small
          *ngIf="isSubmitted && formControls.newPassword.errors?.required"
          class="p-invalid"
        >
          {{ 'password-changer.password_required' | translate }}
        </small>
        <small
          *ngIf="isSubmitted && formControls.newPassword.errors?.pattern"
          class="p-invalid"
        >
          {{ 'password-changer.password_not_strong' | translate }}
        </small>
      </div>
    </div>
  </div>
  <div class="flex flex-column">
    <div class="mb-2">
      <label for="confirm-password">
        {{ 'password-changer.confirmation' | translate }}
      </label>
    </div>
    <div class="mb-2 flex flex-column">
      <p-password
        id="confirm-password"
        [placeholder]="
          'password-changer.confirm_password_placeholder' | translate
        "
        formControlName="confirmPassword"
        [toggleMask]="true"
      ></p-password>
      <div class="p-invalid-container">
        <small
          *ngIf="isSubmitted && formControls.confirmPassword.errors?.required"
          class="p-invalid"
        >
          {{ 'password-changer.password_required' | translate }}
        </small>
        <small
          *ngIf="isSubmitted && formControls.confirmPassword.errors?.pattern"
          class="p-invalid"
        >
          {{ 'password-changer.password_not_strong' | translate }}
        </small>
      </div>
    </div>
  </div>
  <div class="mb-2">
    <button
      pButton
      type="button"
      class="p-button-raised p-button-primary mr-2"
      (click)="onSubmit()"
      [label]="'password-changer.submit' | translate"
    ></button>
  </div>
</form>
